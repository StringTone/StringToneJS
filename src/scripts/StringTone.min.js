const hexTools=require("./HexTools.js");class StringTone{constructor(){return StringTone.instance?StringTone.instance:StringTone.instance=this}#t=(t,e=0)=>t.charCodeAt(e);#e=t=>String.fromCharCode(t);#r=t=>t.toString(16);#n=t=>[...t].reduce(((t,e)=>this.#t(e)+((t<<5)-t)),0);#s=t=>[0,2,4].map((e=>("0"+this.#r(this.#n(t)>>5*e&255)).slice(-2)));#i=(t,e="")=>{for(var r in t)e+=this.#e(this.#t(t,r)*(r+2)*t.length%97+32);return e.length<6?(e+this.#i(e+t)).slice(0,6):e.slice(0,t.length)};#o=(t,e=0)=>{let[r,n,s,i]=hexTools.inflateHex(t,!0,e).map((t=>parseInt("0x"+t)));return(~~(299*r)+~~(587*n)+~~(114*s))/1e3>=128||1+~(128/i)&&e?"#FFF":"#000"};getStringFG=t=>null==t||""===t?"#000000":hexTools.deflateHex(this.#s(this.#i(t)).join(""));getStringBG=t=>null==t||""===t?"#ffffff":this.#o(this.getStringFG(t))}let stringTone=new StringTone;module.exports=stringTone;
