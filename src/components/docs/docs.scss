$url-component-colors: (
    darkblue darkcyan darkgreen darkgoldenrod darkorange darkred darkviolet
);

*,
*::before,
*::after {
    position: relative;
    box-sizing: border-box;
    font-family: system-ui;
}

html,
body {
    margin: 0;
    padding: 0;
    color: #000c;
}

.pro-tip {
    display: block;
    border: 5px double #700;
    padding: 15px 10px 13px;
    background-color: #ffc;
    border-radius: 5px;
    box-shadow: 0 2px 3px #0006;
    margin-top: 10px !important;
    text-align: center;
    font-size: 0.9rem;
    text-shadow: 0 1px 0 #fff9;
    font-weight: 500;

    &,
    & > * {
        color: #530 !important;
    }
    h4 {
        position: absolute;
        margin: 0;
        font-size: 1.1rem;
        letter-spacing: 2.5px;
        top: -15px;
        left: -8px;
        transform: rotate(-5deg);
        text-shadow: 1.5px 0 0 #ffe, -1.5px 0 0 #ffe, 0 1.5px 0 #ffe,
            0 -1.5px 0 #ffe, 1.5px 1.5px 0 #ffe, -1.5px 1.5px 0 #ffe,
            1.5px -1.5px 0 #ffe, -1.5px -1.5px 0 #ffe, 2.75px 0 3px #530,
            -2.75px 0 3px #530, 0 2.75px 3px #530, 0 -2.75px 1.5px #530,
            0 2.75px 3px #530, 2.75px 2.75px 0 #530, -2.75px 2.75px 0 #530,
            2.75px -2.75px 0 #530, -2.75px -2.75px 0 #530, -2px 5px 8px #000;
    }
}

a {
    color: inherit;
    text-decoration-style: dotted;
}

a[href^="http"]:not([href*="stringto"]):not([href*="s2t.one"]) {
    --bgImg: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 37 35'%3E%3Cpath fill='none' stroke='%234F473F' stroke-linejoin='bevel' stroke-width='3' d='M8.5 16.5c-5 0-5 0-5 5v5c0 5 0 5 5 5h9c5 0 5 0 5-5v-2'%3E%3C/path%3E%3Cpath fill='none' stroke='%234F473F' stroke-linejoin='bevel' stroke-width='3' d='M16 1h16a3 3 0 0 1 3 3v12a3 3 0 0 1-3 3H16a3 3 0 0 1-3-3V4a3 3 0 0 1 3-3Z' opacity='0'%3E%3C/path%3E%3Cpath fill='none' stroke='%234F473F' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M17 12h6l-9 10 1 1 9-10v7'%3E%3C/path%3E%3C/svg%3E");
    display: inline-block;
    padding-right: 1.25rem;
    color: #4f473f;
    text-decoration-style: dotted;

    &::after {
        content: "";
        display: inline-block;
        width: 1rem;
        height: 1rem;
        position: absolute;
        right: 0;
        top: 0;
        background-repeat: no-repeat;
    }

    &:hover {
        color: #bbb5af;
        text-decoration-style: solid;

        &::after {
            background-image: var(--hvrImg, var(--bgImg));
        }
    }

    &:not(:hover)::after {
        --hvrImg: unset;
        background-image: var(--bgImg);
    }
}

body {
    background: #bfb8ae;
}
.api-docs {
    background: #dacebe;
    display: block;
    min-width: 480px;
    width: 88%;
    padding: 1% 4% 300px;
    max-width: 1024px;
    margin-left: auto;
    margin-right: auto;
    margin-top: 0;
    line-height: 1.5;

    & > *:nth-child(-n + 19) {
        display:none !important;
    }

    hr {
        border: 0 none;
        border-bottom: 3px double #8b735577;
        max-width: 80%;
        margin: 20px auto 10px;
    }

    h2 {
        color: #8b7355;
        &:has(button) {
            display: flex;
            justify-content: space-between;
            margin: 10px 0 -15px 0;
        }
        .example-button {
            display: block;
            background: transparent
                url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='-20 0 600 500'%3E%3Cg transform='scale(0.5)'%3E%3Cpath fill='%238B7355' d='M250 0a250 250 0 1 1-1 500 250 250 0 0 1 1-500Z'%3E%3C/path%3E%3Cpath d='m320 139-84 244c-7 21-51 3-44-18l84-245c7-21 51-5 44 19Z'%3E%3C/path%3E%3Cpath d='m35 266 86 83c19 19 50-11 31-30l-62-61c-8-6-8-6 0-11l62-61c21-21-9-52-31-31l-86 84c-13 13-13 13 0 27Z'%3E%3C/path%3E%3Cpath d='m468 266-85 83c-19 19-50-11-31-30l62-61c7-6 7-6 0-11l-62-62c-21-20 9-52 31-30l85 84c14 13 14 13 0 27Z'%3E%3C/path%3E%3C/g%3E%3C/svg%3E")
                no-repeat;
            width: 64px;
            height: 64px;
            border: 0 none;
            pointer-events: none;
            filter: invert(1) hue-rotate(180deg) drop-shadow(1px 2px 1px #000);
            transition: 0.2s all ease-out;
            margin-top: 5px;

            &::after {
                content: "";
                width: 50%;
                height: 50%;
                position: absolute;
                border-radius: 50%;
                top: 0;
                left: 0;
                z-index: 100;
                pointer-events: all;
                cursor: pointer;
            }

            &:hover {
                filter: invert(0) hue-rotate(0);
                transition: 0.5s filter linear, 0.2s margin-top,
                    0.2s margin-bottom;
                margin-top: 0;
                margin-bottom: 5px;
                &::after {
                    width: 100%;
                    height: 100%;
                    border-radius: 0;
                    transition: 0.5s all linear;
                }
            }
        }
    }

    code {
        font-family: "hack", monospace;
        font-size: 95%;
        background-color: #fff5;
        padding: 0 2px 0 3px;
        border-radius: 4px;
    }

    b > code {
        padding:0 2px 0 0;
    }

    ol > li {
        margin-bottom: 8px;
    }

    .api-uri {
        text-align: center;
        border: 5px double #dacebe;
        margin: 20px auto 10px;
        border-radius: 50px;
        background: #efeeeb;
        box-shadow: inset 2px 2px 2px #0003, -0.5px -0.5px 1px #0003;
        padding: 10px 20px;
        font-size: 1rem;
        letter-spacing: 1px;
        width: 70%;
        min-width: 440px;
        white-space: nowrap;
        transition: 0s z-index 2.51s;
        z-index:3;

        u {
            color: #888;
            text-decoration: underline;
            text-decoration-style: dotted;
            display: inline-block;
            padding: 0 3px;
            margin: 0 -7px 0 -6px;
        }
        & > a {
            text-decoration-style: dotted;
            margin: 0;
            font-size: 1.25rem;
            font-weight: 600;
        }

        @for $i from 1 through length($url-component-colors) {
            & > a,
            .url-anatomy-segment {
                &,
                &:nth-of-type(#{$i}) {
                    --color: #{nth($url-component-colors, $i)};
                }
            }
        }

        a {
            color: var(--color);
        }
        .url-anatomy-segment {
            --color: var(--color);
            color: #000b;
            font-weight: 400;
            position: absolute;
            background: white;
            padding: 15px;
            max-width: 50%;
            min-width: 420px;
            white-space: wrap;
            text-align: left;
            border-radius: 15px;
            filter: none;
            transition: 0.5s opacity ease-out, 0.4s transform 0.3s;
            box-shadow: 0 5px 10px black;
            border: 2px solid var(--color);
            background: color-mix(in srgb, white, var(--color) 10%);
            letter-spacing: 0;

            &:not(:hover) {
                transform: scaley(0) translatey(-80%);
                opacity: 0;
            }

            h4,
            h5 {
                margin: 0 0 4px 0;
                color: var(--color);
            }
            h4 {
                font-size: 1.25rem;
                letter-spacing: 0;
                font-weight: 600;
            }
            h5 {
                font-size: 1rem;
                letter-spacing: 0;
            }
            p {
                margin: 6px 0 2px;
            }

            //                 &:first-of-type {
            //                     transform:scaley(1) translatey(0);

            //                 }
            & > a {
                color: var(--color);
            }
        }
        &,
        & > * {
            transition: 0.5s all ease-in;
        }
        &:has(a:hover),
        &:has(a:active),
        &:has(a:focus),
        &:has(a:focus-within),
        &:has(a:target) {
            &,
            & > * {
                transition: 0.15s all ease-in;
            }
            // background:#AAA;

            &
                > *:not(a:hover):not(a:active):not(a:focus):not(a:focus-within):not(a:target):not(.url-anatomy-segment) {
                filter: saturate(0) contrast(0) brightness(1.25);
            }

            &:not(.monochrome) > a:hover,
            & > a:active,
            & > a:focus,
            & > a:focus-within,
            & > a:target {
                // background:#EFEEEB;
                font-weight: 700;
                outline: 0 none !important;
                text-shadow: 4px -4px 4px #feea, -4px -4px 4px #feea,
                    4px 2px 4px #feec, -4px 2px 4px #feec,
                    // 0 4px 14px #EFEEEB,
                    -8px -12px 4px #fff9,
                    8px -12px 4px #fff9, 0 -12px 4px #fff9,
                    -8px -12px 5px var(--color), 8px -12px 7px var(--color),
                    // -12px -8px 6px #FFF6, 12px -8px 6px #FFF6,
                    -8px -6px 16px var(--color),
                    8px -6px 16px var(--color) //, 0 0px 8px var(--color)//, 0 -6px 24px var(--color);//,
                    0 -12px 24px var(--color);
                filter: saturate(2);
                opacity: 0.75;
                // 0 0 1px white, 0 0 2px white, 0 0 4px white, 0 0 8px white,
                // 5px 3px 3px var(--color), -5px 3px 3px var(--color),
                // 0 0 1px white, 0 0 2px white, 0 -5px 4px white, 0 5px 2px white,
                // 20px 0 20px #EFEEEB,20px 0 20px #EFEEEB,
                // 5px -10px 10px var(--color), -5px -10px 10px var(--color);
                // box-shadow:0 0 10px #EFEEEB, 0 0 10px #EFEEEB, 0 0 10px #EFEEEB, 0 0 10px #EFEEEB, 0 0 10px #EFEEEB, 0 0 10px #EFEEEB;

                &:nth-of-type(1) ~ .url-anatomy-segment:nth-of-type(1),
                &:nth-of-type(2) ~ .url-anatomy-segment:nth-of-type(2),
                &:nth-of-type(3) ~ .url-anatomy-segment:nth-of-type(3) {
                    transform: scaley(1) translatey(0);
                    opacity: 1;
                    transition: 0.4s transform ease-in, 0.3s opacity 0.15s;
                }
            }
        }

        &.monochrome {
            &,
            a {
                cursor: default;
            }
            @for $i from 1 through length($url-component-colors) {
                a:nth-of-type(#{$i}) {
                    --color: #{nth($url-component-colors, 1)};
                }
            }

            u {
                text-decoration-style: dotted;
                font-size: 0.95rem;
            }
        }

        &::before {
            content: "Example StringTone Endpoint URI";
            letter-spacing: -0.15px;
            color: #fdf7ec;
            position: absolute;
            top: -15px;
            left: 20px;
            font-weight: 700;
            font-size: 0.75rem;
            line-height: 1;
            z-index: 0;
            text-shadow: -1px -1px 1px #0003;
        }

        &:not(.monochrome)::after {
            content: "(Hover/Tap/Click a URL segment for details.)";
            font-style: italic;
            display: block;
            position: absolute;
            z-index: 0;
            width: 100%;
            bottom: -24px;
            left: 0;
            font-size: 11px;
        }
    }

    .endpoint-domains {
        list-style: none;
        display: flex;
        flex-wrap: wrap;
        justify-content: space-between;
        align-items: center;
        margin: 10px 0 45px;
        padding: 0;
        li {
            display: inline-block;
            text-align: center;
            margin: 0;
            padding: 5px 0;

            &:nth-of-type(odd) {
                border-radius: 50px;
                background-color: #fff9;

                u {
                    color: #0007;
                    font-size: 0.8rem;
                    display: inline-block;
                    margin-right: 1px;
                    text-decoration-style: dotted;
                    text-decoration-thickness: 0.125rem;
                }

                a {
                    color: #000;
                    font-size: 1rem;
                    letter-spacing: 0.5px;
                    text-decoration-style: dotted;
                }
            }

            &:nth-of-type(1) {
                min-width: 47%;
            }
            &:nth-of-type(3) {
                min-width: 45%;
            }
            &:nth-of-type(2) {
                font-size: 13px;
                font-weight: 800;
                color: #0006;
                min-width: 8%;
            }

            div {
                font-size: 11px;
                width: 90%;
                left: 5%;
                line-height: 1;
                margin-top: 6px;
                position: absolute;
                opacity: 0.33;
            }
        }
    }
    
    &::before {
        content: "";
        position: fixed;
        display: block;
        background: #0002;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        z-index: 3;
        backdrop-filter: none;
        opacity:0;
        pointer-events:none;
        transition:1s backdrop-filter ease-in, 0.25s opacity 0.75s;
        
    }
}

article:has(.api-uri:not(.monochrome):hover),
article:has(.api-uri:not(.monochrome):active),
article:has(.api-uri:not(.monochrome):focus),
article:has(.api-uri:not(.monochrome):focus-within),
article:has(.api-uri:not(.monochrome):target) {
    &,
    & > a {
        * {
            z-index: 0;
        }
        .api-uri {
            z-index: 5;
            transition: none;

            & > * {
                z-index: 4;
            }
        }
        &::before {
            content: "";
            position: fixed;
            display: block;
            background: #0002;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            z-index: 3;
            opacity:1;
            transition:none;
            backdrop-filter: blur(2px) contrast(0.5) saturate(0);
        }
    }
}

.flag-matrices {
    tr {
        border-bottom: 1px solid #AAA; 
    }
    th {
        border-bottom: 1px solid #AAA; 
        text-align: left;
        font-size:0.8rem;
        white-space: nowrap;
        padding:0 10px 0 0;
    }

    td {
        vertical-align: top;
        font-size:0.9rem;
        padding:0 10px 10px 0;

        &:nth-of-type(1) {
            font-weight: 600;
        }
        &:nth-of-type(2) {
            font-weight: 400;
            white-space: nowrap;
        }
    }
}
